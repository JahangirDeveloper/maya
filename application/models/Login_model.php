<?phpif (!defined('BASEPATH')){    exit('No direct script access allowed');} class Login_model extends CI_Model {    function __construct() {        $this->load->database();        parent::__construct();        $lng      = $this->session->userdata('lng');        $dir      = $this->session->userdata('dir');        $language = $this->session->userdata('language');    }        public function verify($email=false,$password_md5=false)    {        $language = $this->session->userdata('language');        $dir      = $this->session->userdata('dir');        $lng      = $this->session->userdata('lng');        if($email){            $this->db->where('email',$email);        }        if($password_md5){            $this->db->where('password_md5',$password_md5);        }        $this->db->where('is_active','1');        $this->db->where('is_delete','0');        $query = $this->db->get('user_tbl');        // echo $this->db->last_query();        // exit();        if($query->num_rows() > 0) {           $data = $query->result_array();            return $data['0'];        }        else {            return array();        }    }    public function getUserPermissions($user_id=false)    {        if ($user_id) {            $this->db->select('permission_id');            $this->db->where('user_id',$user_id);            $this->db->where('is_delete','0');            $query = $this->db->get('permissions_assigned_tbl');            if ($query->num_rows() > 0) {                foreach ($query->result_array() as $key => $value) {                    $data[$value['permission_id']] = $value['permission_id'];                }                return $data;            }            else {                return array();            }        }        else {            return array();        }    }    public function getUserRoleDashboardLink($role_id=false)    {        if($role_id){            $this->db->where('id',$role_id);            $query = $this->db->get('user_role_tbl');            if($query->num_rows() > 0) {               $data = $query->result_array();                return $data['0']['dashboard_link'];            }            else {                return '';            }        }        else {            return '';        }    }        }?>